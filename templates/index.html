<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–ª—É–± –í–µ–¥—å–º –ü–æ –ú—ë—Ç–ª–∞–º</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <!-- –®–ê–ü–ö–ê -->
        <header class="header">
            <h1>üîÆ –ö–ª—É–± –í–µ–¥—å–º "–ü–æ –ú—ë—Ç–ª–∞–º"</h1>
            <p class="subtitle">–ó–∞–∫—Ä—ã—Ç–æ–µ –∂–µ–Ω—Å–∫–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –¥–ª—è –¥—É—Ö–æ–≤–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞</p>
        </header>

        <!-- –¢–ê–ë–´ -->
        <div class="tabs">
            <button class="tab active" data-tab="participants">üë• –£—á–∞—Å—Ç–Ω–∏—Ü—ã</button>
            <button class="tab" data-tab="survey">üìù –ê–Ω–∫–µ—Ç–∞</button>
            <button class="tab" data-tab="profile">‚öôÔ∏è –ü—Ä–æ—Ñ–∏–ª—å</button>
        </div>

        <!-- –í–ö–õ–ê–î–ö–ê: –£–ß–ê–°–¢–ù–ò–¶–´ -->
        <div id="participants" class="tab-content active">
            <h2>‚ú® –ù–∞—à–∏ —É—á–∞—Å—Ç–Ω–∏—Ü—ã</h2>
            <div class="members-grid">
                {% for member in members %}
                <div class="member-card">
                    <div class="member-emoji">{{ member.emoji }}</div>
                    <div class="member-name">{{ member.name }}</div>
                    <div class="member-title">{{ member.title }}</div>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- –í–ö–õ–ê–î–ö–ê: –ê–ù–ö–ï–¢–ê -->
        <div id="survey" class="tab-content">
            <h2>üìù –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∞–Ω–∫–µ—Ç—É –¥–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è</h2>
            <form id="applicationForm" class="application-form">
                <div class="form-group">
                    <label>–í–∞—à–µ –∏–º—è:</label>
                    <input type="text" name="name" required placeholder="–ú–∞—Ä–∏—è">
                </div>

                <div class="form-group">
                    <label>–í–æ–∑—Ä–∞—Å—Ç:</label>
                    <input type="number" name="age" required placeholder="30" min="18" max="100">
                </div>

                <div class="form-group">
                    <label>–°–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ:</label>
                    <input type="text" name="family_status" required placeholder="–ó–∞–º—É–∂–µ–º / –í –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö / –ù–µ –∑–∞–º—É–∂–µ–º">
                </div>

                <div class="form-group">
                    <label>–ï—Å—Ç—å –ª–∏ –¥–µ—Ç–∏? –°–∫–æ–ª—å–∫–æ?</label>
                    <input type="text" name="children" required placeholder="2 —Ä–µ–±—ë–Ω–∫–∞ / –ù–µ—Ç –¥–µ—Ç–µ–π">
                </div>

                <div class="form-group">
                    <label>–í–∞—à–∏ —É–≤–ª–µ—á–µ–Ω–∏—è –∏ —Ö–æ–±–±–∏:</label>
                    <textarea name="hobbies" required rows="3" placeholder="–ô–æ–≥–∞, —á—Ç–µ–Ω–∏–µ, –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—è..."></textarea>
                </div>

                <div class="form-group">
                    <label>–ö–∞–∫–∏–µ —Ç–µ–º—ã –≤–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã?</label>
                    <textarea name="themes" required rows="3" placeholder="–≠–∑–æ—Ç–µ—Ä–∏–∫–∞, –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è, —Å–∞–º–æ—Ä–∞–∑–≤–∏—Ç–∏–µ..."></textarea>
                </div>

                <div class="form-group">
                    <label>–ó–∞—á–µ–º –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤—Å—Ç—É–ø–∏—Ç—å –≤ –∫–ª—É–±?</label>
                    <textarea name="goal" required rows="4" placeholder="–•–æ—á—É –Ω–∞–π—Ç–∏ –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏—Ü, —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –¥—É—Ö–æ–≤–Ω–æ..."></textarea>
                </div>

                <div class="form-group">
                    <label>–û—Ç–∫—É–¥–∞ –≤—ã —É–∑–Ω–∞–ª–∏ –æ –∫–ª—É–±–µ?</label>
                    <input type="text" name="source" required placeholder="–û—Ç –ø–æ–¥—Ä—É–≥–∏ / –ò–∑ —Å–æ—Ü—Å–µ—Ç–µ–π">
                </div>

                <button type="submit" class="submit-btn">‚ú® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–Ω–∫–µ—Ç—É</button>
            </form>
        </div>

        <!-- –í–ö–õ–ê–î–ö–ê: –ü–†–û–§–ò–õ–¨ -->
        <div id="profile" class="tab-content">
            <h2>‚öôÔ∏è –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h2>
            
            <div class="profile-card">
                <div class="profile-field">
                    <div class="profile-label">–ò–º—è:</div>
                    <div class="profile-value" id="userName">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                </div>

                <div class="profile-field">
                    <div class="profile-label">ID:</div>
                    <div class="profile-value" id="userId">‚Äî</div>
                </div>

                <div class="profile-field">
                    <div class="profile-label">–°—Ç–∞—Ç—É—Å –∞–Ω–∫–µ—Ç—ã:</div>
                    <div class="profile-status">
                        <span id="statusText" class="status-pending">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                    </div>
                </div>
            </div>

            <div class="profile-info">
                <h3>‚ÑπÔ∏è –°—Ç–∞—Ç—É—Å—ã –∞–Ω–∫–µ—Ç—ã:</h3>
                <ul>
                    <li>‚è≥ <strong>–û–∂–∏–¥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏</strong> ‚Äî –∞–Ω–∫–µ—Ç–∞ –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏</li>
                    <li>‚úÖ <strong>–û–¥–æ–±—Ä–µ–Ω–∞</strong> ‚Äî –¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫–ª—É–±!</li>
                    <li>‚ùå <strong>–û—Ç–∫–ª–æ–Ω–µ–Ω–∞</strong> ‚Äî –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- –û–¢–õ–ê–î–ö–ê -->
    <script>
        window.addEventListener('load', () => {
            console.log('Page loaded');
            console.log('Telegram WebApp available:', typeof Telegram !== 'undefined');
            if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
                console.log('WebApp user:', Telegram.WebApp.initDataUnsafe?.user);
            }
        });
    </script>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
